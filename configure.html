
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Configure Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="strategies/" />
    
    
    <link rel="prev" href="./" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.2" data-path="configure.html">
            
                <a href="configure.html">
            
                    
                    Configure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="strategies/">
            
                <a href="strategies/">
            
                    
                    Strategies
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="strategies/password.html">
            
                <a href="strategies/password.html">
            
                    
                    Password
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="transport/">
            
                <a href="transport/">
            
                    
                    Transport
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="transport/rest.html">
            
                <a href="transport/rest.html">
            
                    
                    Rest
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="transport/graphql.html">
            
                <a href="transport/graphql.html">
            
                    
                    Graphql
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="databases/">
            
                <a href="databases/">
            
                    
                    Databases
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="databases/mongo.html">
            
                <a href="databases/mongo.html">
            
                    
                    Mongo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="databases/redis.html">
            
                <a href="databases/redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="ui/">
            
                <a href="ui/">
            
                    
                    Ui
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="ui/react.html">
            
                <a href="ui/react.html">
            
                    
                    React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="ui/react-native.html">
            
                <a href="ui/react-native.html">
            
                    
                    React-native
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="cookbook/">
            
                <a href="cookbook/">
            
                    
                    Cookbook
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="cookbook/express.html">
            
                <a href="cookbook/express.html">
            
                    
                    Express
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="cookbook/meteor.html">
            
                <a href="cookbook/meteor.html">
            
                    
                    Meteor
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Configure</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="configure">Configure</h1>
<p>js-accounts offer a huge amount of customization options on the client and server.</p>
<h2 id="basic-configuration">Basic configuration</h2>
<h3 id="client-rest-no-view-layer">Client (Rest, No view layer)</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { AccountsClient } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/client&apos;</span>;
<span class="hljs-keyword">import</span> RestClient <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/rest-client&apos;</span>;

<span class="hljs-keyword">const</span> restClient = <span class="hljs-keyword">new</span> RestClient({
  apiHost: <span class="hljs-string">&apos;http://server.com&apos;</span>,
  rootPath: <span class="hljs-string">&apos;/accounts&apos;</span>,
});

<span class="hljs-keyword">const</span> clientOptions = {}; <span class="hljs-comment">// Defaults are provided for all mendatory options</span>
                          <span class="hljs-comment">// So you don&apos;t have to pass in anything.</span>

<span class="hljs-keyword">const</span> accountsClient = <span class="hljs-keyword">new</span> AccountsClient(clientOptions, restClient);

accountsClient.loginWithPassword(<span class="hljs-string">&apos;userId&apos;</span>, <span class="hljs-string">&apos;123456&apos;</span>)
  .then(() =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Logged In!&apos;</span>))
  .catch(() =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Login failed!&apos;</span>));
</code></pre>
<h3 id="server-express-mongo">Server (Express, Mongo)</h3>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;express&apos;</span>;
<span class="hljs-keyword">import</span> bodyParser <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;body-parser&apos;</span>;
<span class="hljs-keyword">import</span> { AccountsServer } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/server&apos;</span>;
<span class="hljs-keyword">import</span> accountsExpress <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/rest-express&apos;</span>;
<span class="hljs-keyword">import</span> { MongoClient } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;mongodb&apos;</span>;
<span class="hljs-keyword">import</span> MongoAdapter <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/mongo&apos;</span>;

<span class="hljs-keyword">const</span> mongoAdapter = <span class="hljs-keyword">await</span> MongoClient.connect(MONGO_URL).then(db =&gt; <span class="hljs-keyword">new</span> MongoAdapter(db));

<span class="hljs-keyword">const</span> serverOptions = {
  tokenConfigs: {
    accessToken: {
      expiresIn: <span class="hljs-string">&apos;1d&apos;</span>,
    },
    refreshToken: {
      expiresIn: <span class="hljs-string">&apos;14d&apos;</span>,
    },
  }
};

<span class="hljs-keyword">const</span> app = express().use(bodyParser.json());

<span class="hljs-keyword">const</span> accountsServer = <span class="hljs-keyword">new</span> AccountsServer(serverOptions, mongo);
app.use(accountsExpress(accountsServer));

app.listen(PORT, () =&gt; <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Listening on port&apos;</span>, PORT));
</code></pre>
<h2 id="client-store">Client Store</h2>
<p>js-accounts client uses redux store to handle state. If you don&apos;t use redux in your application you should not worry about it.
If you do use redux, then you probably want to initialize the redux store on your own. In that case, you can pass in a redux store object to the AccountsClient constructor like so:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">import</span> { AccountsClient, reducer <span class="hljs-keyword">as</span> accounts } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;@accounts/client&apos;</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;redux&apos;</span>;

<span class="hljs-keyword">const</span> reduxStore = createStore(combineReducers({
  accounts,
  ...otherReducers,
}), enhancers);

<span class="hljs-keyword">const</span> clientOptions = {
  store: reduxStore,
};

<span class="hljs-keyword">const</span> accountsClient = <span class="hljs-keyword">new</span> AccountsClient(clientOptions, restClient);
</code></pre>
<p>You can also customize the store token being used by accounts like so:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> ACCOUNTS_STORE_KEY = <span class="hljs-string">&apos;very_complex_key&apos;</span>;

<span class="hljs-keyword">const</span> reduxStore = createStore(combineReducers({
  [ACCOUNTS_STORE_KEY]: accounts,
  ...otherReducers,
}), enhancers);

<span class="hljs-keyword">const</span> clientOptions = {
  store: reduxStore,
  reduxStoreKey: ACCOUNTS_STORE_KEY,
};

<span class="hljs-keyword">const</span> accountsClient = <span class="hljs-keyword">new</span> AccountsClient(clientOptions, restClient);
</code></pre>
<h2 id="customize-token-storage">Customize Token Storage</h2>
<h2 id="customize-validations">Customize Validations</h2>
<h2 id="customize-authentication">Customize Authentication</h2>
<h2 id="customize-encription">Customize Encription</h2>
<h2 id="customize-email-handlers">Customize Email Handlers</h2>
<h2 id="customize-user-object">Customize User Object</h2>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="./" class="navigation navigation-prev " aria-label="Previous page: Introduction">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="strategies/" class="navigation navigation-next " aria-label="Next page: Strategies">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Configure","level":"1.2","depth":1,"next":{"title":"Strategies","level":"1.3","depth":1,"path":"strategies/README.md","ref":"strategies/README.md","articles":[{"title":"Password","level":"1.3.1","depth":2,"path":"strategies/password.md","ref":"strategies/password.md","articles":[]}]},"previous":{"title":"Introduction","level":"1.1","depth":1,"path":"README.md","ref":"README.md","articles":[]},"dir":"ltr"},"config":{"plugins":["edit-link"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"edit-link":{"label":"Edit This Page","base":"https://github.com/js-accounts/docs/tree/master/docs"},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"configure.md","mtime":"2017-07-08T15:03:05.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-08T15:07:49.315Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

